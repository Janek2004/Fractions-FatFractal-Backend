<html>
<head>
<!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>-->
<script src="//code.jquery.com/jquery-latest.min.js"        type="text/javascript"></script>
<script type="text/javascript" src="//www.fatfractal.com/prod/js/FatFractal.latest.js"></script>
<link rel="stylesheet" type="text/css" href="css/common.css" media="screen"/>
<script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-2.1.0.js"></script>
<script type="text/javascript" src="js/ff.js"></script>
<link rel="stylesheet" href="css/jquery.mobile-1.4.0.min.css" />
<script src="js/jquery.mobile-1.4.0.min.js"></script>
<script type="text/javascript">
    function httpsRedirect() {
      var httpURL = window.location.hostname + window.location.pathname;
      var httpsURL = "https://" + httpURL;
      window.location = httpsURL;
    }
    console.log(window.location.href);
    if (!window.location.href.match('^https://') && !window.location.href.match('^http://localhost'))
      httpsRedirect();
  </script>
</head>
<body style="background-color: black">
<div data-role="page" id="loginPage">
  <div data-role="header">
    <h1>Fractionville</h1>
  </div>
  <div data-role="content">
    <input type="text" id="login_name" placeholder="username"/>
    <input type="password" id="login_password" placeholder="password"/>
    <a href="#" data-role="button" onclick='login_user($("#login_name"),$("#login_password"))'>Login</a> <a href="#registrationPage" data-role="button">Register</a>
    <p id="statusMessage"> </p>
   	 	<a href="https://itunes.apple.com/us/app/fractionville/id765951254?ls=1&mt=8" target="_blank"><img src="resources/App_Store_Badge_EN_small.png" />
    </a>
    <p>
    <a href="https://docs.google.com/document/d/1zj1JHRfO36s8z9hxsmMGwe5xdYrZAFTEksS245I1Iag/edit?usp=sharing" target="blank">Teacher's Guide</a>
    </p>
    
  </div>
  <div data-role="footer"  data-position="fixed">&nbsp;</div>
</div>

<div data-role="page" id="registrationPage" >
  <div data-role="header" data-add-back-btn="true" data-back-btn-text="Back">
    <h1>Fractionville</h1>
  </div>
  <div data-role="content">
    <input type="text" id="register_name" placeholder="username"/>
    <input type="password" id="register_password" placeholder="password"/>
    <input type="text" id="register_school" placeholder="school"/>
    <input type="button" href="#"  onclick='register($("#register_name"),$("#register_password"),$("#register_school"))' value="Register User"/>
    <p id="regStatusMessage"> </p>
    
  </div>
  <div data-role="footer"  data-position="fixed">
  </div>
</div>

<!---- LIST OF THE COURSES ---->
<div data-role="page" id="coursesListPage" >
     <div data-role="header" data-add-back-btn="true" data-back-btn-text="Back">
        <h1>Fractionville</h1>
    </div>
  <div data-role="content">

      <input type="text" placeholder="Enter Course I.D." id="course_id"/>
    <input type="button" value="Add new Course ID" onClick='addNewClass($("#course_id"))' />

  <p id="courseStatusMessage"> </p>
  <br>
  <br>
  	<ul data-role="listview" id="course_list_view"> 
    	<li data-role="list-divider">List of Courses </li>	
    </ul>
  </div>
  <div data-role="footer"  data-position="fixed">&nbsp;</div>
</div>

<!--- SINGLE COURSE PAGE WITH LIST OF THE STUDENTS  --->
<div data-role="page" id="coursePage" >
     <div data-role="header" data-add-back-btn="true" data-back-btn-text="Back">
        <h1>Fractionville</h1>
    </div>
  <div data-role="content">
  <br>
  	<ul data-role="listview" id="student_list_view"> 
	    <li data-role="list-divider">List of Students (courseId) </li>	
	</ul>
  </div>
  <div data-role="footer"  data-position="fixed">&nbsp;</div>
</div>

<!--- STUDENT ATTEMPTS  --->
<div data-role="page" id="studentsAttemptPage" >
     <div data-role="header" data-add-back-btn="true" data-back-btn-text="Back">
        <h1>Fractionville</h1>
    </div>
	
  <div data-role="content">
  	<p id="student_info">&nbsp;</p>
	<p id="student_status">&nbsp;</p>
	<textarea id="message_text"></textarea>
	
	<a href="#" onclick="sendMessage()" data-role="button"  >Send Message</a>
 <br>
    	<ul data-role="listview" id="student_messages_list_view"> 
	    <li data-role="list-divider">Messages</li>	
	</ul>
<br> 
	<a href="#" onclick="refreshAttempts()" data-role="button"  >Refresh</a>
  <br>
  	
  	<ul data-role="listview" id="student_attempts_list_view"> 
	    <li data-role="list-divider">Attempts </li>	
	</ul>
  </div>
  
  
  <div data-role="footer"  data-position="fixed">&nbsp;</div>
  
</div>



<!---

<a href="https://itunes.apple.com/us/app/fractionville/id765951254?ls=1&mt=8" style="float:right" target="_blank"><img src="App_Store_Badge_EN.png" width="20%"/></a>

<table>
	 <tr><td valign="middle">
     <img src="facethink.png" height="50" width="30" style="float: left"/> </td><td> <h1>Fractions</h1> 		  
	 </td></tr>	 
</table>
 
<div style="width: 80%; margin: auto">
  <h4>Instructions</h4>
  <ol>
  	<li><a href="https://itunes.apple.com/us/app/fractionville/id765951254?ls=1&mt=8" target="_blank">Download</a> the app </li>
  	<li>Think about ClassId that you will be used to track their progress</li>
  	<li>Ask students to set their usernames and the classId</li>    
		<li>Let students play with app</li>
  	<li>Enter the classId in the text field below and click on the Check Progress button to see the attempts.</li>
  
  </ol>
  <h4>Attempts</h4>  
<input type="text" id="className"/>
<input type="button" value="Check Progress" onClick="reloadAttempts()"><a href="about.html" style="">Teacher's Guide</a>
<table id="attemptsTable" border=1 >
  <tr><td>Activity</td><td>Name</td><td>Score</td> <td>Fractions</td> <td>Date</td> </tr>
  </table>
</div>    
  --->

</body>
<script type='text/javascript'>
  
  //var baseEl = document.getElementById('baseurl');
  //var re = /\/index.html$/;
  //var app = window.location.pathname.replace(re, "");
  //var appName = app.slice(1);
  //var host = window.location.hostname + (window.location.port ? ":" + window.location.port : "");
  //baseEl.innerHTML = host + app;
  
  // var explainEl = document.getElementById('explain');
  // explainEl.innerHTML = "Application: " + appName + " is running on " + host;
  // window.document.title = "Application: " + appName + " default index.html page"
  var ff = new FatFractal();
</script>
</html>
